(this["webpackJsonpcoffeetory-frontend"]=this["webpackJsonpcoffeetory-frontend"]||[]).push([[0],{105:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n(16),i=n.n(r),o=n(8),s=(n(61),n(24)),c=n(49),u=n(4),l="ACCES_REQUEST",d="REQUEST_FAILED",b="REQUEST_PENDING",j="REQUEST_SUCCEED",m="LOGIN_REQUEST",h={is_auth:!1,loading:!1,has_business:!1,credentials:"",login_credentials:"",auth_token:"not setup",error:""},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,e=arguments.length>1?arguments[1]:void 0;switch(console.log(e.type),e.type){case b:return Object(u.a)(Object(u.a)({},t),{},{loading:!0});case l:return Object(u.a)(Object(u.a)({},t),{},{loading:!0,credentials:e.credentials,auth_token:e.payload,error:""});case m:return Object(u.a)(Object(u.a)({},t),{},{loading:!0,login_credentials:e.login_credentials,auth_token:e.payload,error:""});case d:return Object(u.a)(Object(u.a)({},t),{},{is_auth:!1,loading:!1,auth_token:"",error:e.payload});case"BUSINESS_EXIST":return console.log("Business Exist being trigger"),Object(u.a)(Object(u.a)({},t),{},{has_business:!0});case j:return Object(u.a)(Object(u.a)({},t),{},{is_auth:!0,loading:!1});case"DEFAULT":return Object(u.a)(Object(u.a)({},t),{},{is_auth:!1,loading:!1,auth_token:""});default:return t}},f="GET_BUSINESS",O="SET_BUSINESS",_="GET_RAW_MATERIALS",g="SET_RAW_MATERIALS",x="GET_RAW_MATERIAL",w="SET_RAW_MATERIAL",v="PUT_RAW_MATERIAL",C={business:null,raw_materials:[],raw_material:"",error:"",loading:!1,selectedMaterials:[]},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case b:return Object(u.a)(Object(u.a)({},t),{},{loading:!0});case f:return console.log("get business being trigger"),Object(u.a)(Object(u.a)({},t),{},{business:e.payload,loading:!1});case O:return console.log("set business being trigger"),Object(u.a)(Object(u.a)({},t),{},{business:e.payload,loading:!1});case _:return console.log("get raw materials trigger"),Object(u.a)(Object(u.a)({},t),{},{raw_materials:e.payload});case g:return console.log("set raw materials trigger"),Object(u.a)(Object(u.a)({},t),{},{raw_materials:e.payload});case x:return console.log("get raw material trigger"),Object(u.a)(Object(u.a)({},t),{},{raw_material:e.payload});case w:return console.log("set raw material trigger"),Object(u.a)(Object(u.a)({},t),{},{raw_material:e.payload});case v:return console.log("put request trigger"),Object(u.a)(Object(u.a)({},t),{},{raw_materials:e.payload});case"REQUEST_FAILED":return Object(u.a)(Object(u.a)({},t),{},{error:e.payload,loading:!1});default:return t}},y=Object(s.c)({authStore:p,dataStore:S}),E=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):s.d)(Object(s.a)(c.a)),k=Object(s.e)(y,E),N=n(23),A=n(7),M=n(9),T=n(6),R=n.n(T),I=n(13),D=n(20),L=n.n(D),F="https://coffetory-api.herokuapp.com/",B=function(){var t=Object(I.a)(R.a.mark((function t(e,n){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",L.a.post("".concat(F).concat(e),n));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),U=function(){var t=Object(I.a)(R.a.mark((function t(e,n){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",L.a.put("".concat(F).concat(e),n));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),P=function(){var t=Object(I.a)(R.a.mark((function t(e){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",L.a.get("".concat(F).concat(e)));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),G=n(1),H=function(t,e){return t===e},q=function(t,e,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text";return Object(G.jsx)(G.Fragment,{children:Object(G.jsx)("label",{htmlFor:t,children:Object(G.jsx)("input",{required:!0,id:t,placeholder:t,name:t,type:a,value:e,onChange:n})})})},X=function(t,e){localStorage.setItem(t,JSON.stringify(e))},Q=function(t){return localStorage.getItem(t)},W=function(t){var e="#addc91";return console.log(t),t<=20?e="red":t<=50?e="#67899c":t<=70&&(e="#62b5e5"),e},J=function(t,e){return e.remaining_amount>0&&e.remaining_amount<t.remaining_amount?e:t},V=function(t){return t.filter((function(t){return t.remaining_amount!==t.total_amount}))},Z=function(t){return{type:O,payload:t}},z=function(t){return{type:g,payload:t}},K=function(t){return{type:v,payload:t}},Y=function(t){return{type:"REQUEST_FAILED",payload:t}},$=function(){return{type:b}},tt=function(t){return function(){var e=Object(I.a)(R.a.mark((function e(n){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n($()),console.log("FETCH GET MATERIALS"),P(t).then((function(t){var e;console.log(t.data),n((e=t.data,{type:_,payload:e}))})).catch((function(t){console.log(t.message),n(Y(t))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},et=n(17),nt=function(t){var e=t.fetchPostRawMaterials,n=t.business,r=t.fetchPutRawMaterial,i=t.update,o=t.item,s=t.decrease,c=Object(a.useState)({name:"",totalAmount:0,amount:0,pressed:!1}),l=Object(M.a)(c,2),d=l[0],b=l[1],j=function(t){if(i)if(s){if(o.remaining_amount-d.amount<0)return t.preventDefault(),void b({pressed:!0});console.log("id number: ".concat(o.id)),r("business/".concat(n.id,"/raw_materials/").concat(o.id),{remaining_amount:o.remaining_amount-d.amount}).then(t.preventDefault(),b({pressed:!0}),console.log(o.remaining_amount-d.amount))}else{console.log("remaining amount type: ".concat(typeof parseFloat(d.amount)));var a=o.remaining_amount+parseFloat(d.amount);if(d.amount>o.total_amount||parseFloat(d.amount)+o.remaining_amount>o.total_amount)return void r("business/".concat(n.id,"/raw_materials/").concat(o.id),{total_amount:parseFloat(d.amount),remaining_amount:parseFloat(d.amount)}).then(t.preventDefault(),b({pressed:!0}),console.log(a));r("business/".concat(n.id,"/raw_materials/").concat(o.id),{remaining_amount:a}).then(t.preventDefault(),b({pressed:!0}))}else console.log(L.a.defaults.headers.common),e("business/".concat(n.id,"/raw_materials"),{name:d.name,total_amount:d.totalAmount,remaining_amount:d.totalAmount}).then(t.preventDefault(),b({pressed:!0}),console.log({name:d.name,totalAmount:d.totalAmount,remainingAmount:d.totalAmount})),b({pressed:!0})},m=function(t){var e=t.target.value;b(Object(u.a)(Object(u.a)({},d),{},Object(et.a)({},t.target.name,e))),console.log(d)};return i?Object(G.jsx)(G.Fragment,{children:Object(G.jsxs)("form",{onSubmit:j,children:[q("amount",d.amount,m,"number"),Object(G.jsx)("input",{type:"submit",value:"Update",disabled:d.pressed})]})}):Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("span",{children:" Add a new Raw Material "}),Object(G.jsxs)("form",{onSubmit:j,children:[q("name",d.name,m),q("totalAmount",d.totalAmount,m,"number"),Object(G.jsx)("input",{type:"submit",value:"Create Raw Material",disabled:d.pressed})]})]})};nt.defaultProps={update:!1,item:"",decrease:!1};var at=Object(o.b)((function(t){return{loading:t.dataStore.loading,business:t.dataStore.business}}),(function(t){return{fetchPostRawMaterials:function(e,n){return t(function(t,e){return function(){var n=Object(I.a)(R.a.mark((function n(a){return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a($()),console.log("this is the data ".concat(e)),B(t,e).then((function(t){console.log(t.data),X("hasMaterials",!0),a(z(t.data))})).catch((function(t){console.log(t.message),a(Y(t))}));case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}(e,n))},fetchPutRawMaterial:function(e,n){return t(function(t,e){return function(){var n=Object(I.a)(R.a.mark((function n(a){return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a($()),console.log("this is the data ".concat(e)),U(t,e).then((function(t){console.log(t.data),a(K(t.data))})).catch((function(t){console.log(t.message),a(Y(t))}));case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}(e,n))}}}))(nt),rt=n(26),it=function(t){var e=t.title,n=t.modalTitle,a=t.child,r=t.handleClose,i=t.handleShow,o=t.show;return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("button",{type:"button",onClick:i,children:e}),Object(G.jsxs)(rt.a,{show:o,onHide:r,keyboard:!0,centered:!0,children:[Object(G.jsx)(rt.a.Header,{closeButton:!0,children:Object(G.jsx)(rt.a.Title,{children:n})}),Object(G.jsx)(rt.a.Body,{children:a}),Object(G.jsx)(rt.a.Footer,{children:Object(G.jsx)("button",{type:"button",onClick:r,children:"Close"})})]})]})},ot=function(t){var e=t.errorMessage,n=Object(A.f)();return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("p",{children:e}),Object(G.jsx)("button",{onClick:function(){return n.push("/")},type:"button",children:"Login / Signup"})]})},st=n(50),ct=(n(83),function(t){var e=t.rawMaterial,n=t.width,a=e.remaining_amount/e.total_amount*100;return console.log("this is the raw material: ".concat(e.id,", ").concat(e.remaining_amount," ")),Object(G.jsx)(G.Fragment,{children:Object(G.jsx)(st.a,{value:e.remaining_amount,strokeWidth:4,styles:{root:{width:n},path:{stroke:W(a),strokeLinecap:"butt",transition:"stroke-dashoffset 0.5s ease 0s",transform:"rotate(0.25turn)",transformOrigin:"center center"},trail:{stroke:"#d6d6d6",strokeLinecap:"butt",transform:"rotate(0.25turn)",transformOrigin:"center center"},text:{fill:a>0?"black":"red",fontSize:"16px"},background:{fill:"#3e98c7"}},text:a>0?"".concat(a.toFixed(1),"%"):"Out of Stock",minValue:0,maxValue:e.total_amount})})});ct.defaultProps={rawMaterial:{id:0,name:"default name",total_amount:2e3,remaining_amount:2e3},width:"100%"};var ut=ct,lt=n(31),dt=n(32),bt=n(21),jt=n.n(bt),mt=Object(o.b)((function(t){return{hasBusiness:t.authStore.has_business}}),(function(t){return{initialState:function(){return t({type:"DEFAULT"})}}}))((function(t){var e=t.initialState,n=t.hasBusiness,r=!1,i=Object(A.g)(),o=Object(a.useState)(!1),s=Object(M.a)(o,2),c=s[0],u=s[1],l=Object(a.useState)({text:"Inventory",path:"/business/raw_materials",selected:"left"}),d=Object(M.a)(l,2),b=d[0],j=d[1],m=function(t){console.log(i.pathname),j("/business/raw_materials"===t?{text:"Dashboard",path:"/dashboard"}:{text:"Inventory",path:"/business/raw_materials"}),console.log(b.path)};Object(a.useEffect)((function(){r=!!Q("businessID")&&Q("businessID"),m(i.pathname)}),[]);var h=Object(A.f)(),p=function(t){m(i.pathname),"/"===t&&e(),h.push(t)};return Object(G.jsxs)("div",{className:jt.a.mainContainer,children:[Object(G.jsxs)("div",{id:"left"===b.selected?jt.a.selectedTab:null,className:jt.a.navChild,children:[Object(G.jsx)(lt.a,{icon:dt.a}),Object(G.jsx)("button",{type:"button",onClick:function(){return p(b.path)},children:b.text})]}),Object(G.jsxs)("div",{onClick:function(){return j({selected:"center"})},id:"center"===b.selected?jt.a.selectedTab:null,className:jt.a.navChild,children:[Object(G.jsx)(lt.a,{icon:dt.c}),Object(G.jsx)("button",{type:"button",onClick:function(){return p("/")},children:" Sign out"})]}),Object(G.jsx)("div",{onClick:function(){return j({selected:"right",text:"Dashboard"})},id:"right"===b.selected?jt.a.selectedTab:null,className:jt.a.outerNavChild,children:!1!==n?Object(G.jsxs)("div",{id:jt.a.navChildren,children:[Object(G.jsx)(lt.a,{icon:dt.b}),Object(G.jsx)(it,{show:c,handleClose:function(){console.log("the path is:".concat(b.path)),"/business/raw_materials"===i.pathname?h.push("/dashboard"):h.push("/business/raw_materials"),m(i.pathname)},handleShow:function(){null!==r&&u(!0)},title:"Material",modalTitle:"Add a new   Raw   Material",child:Object(G.jsx)(at,{})})]}):null})]})})),ht=n(18),pt=n.n(ht),ft=Object(o.b)((function(t){return{rawMaterials:t.dataStore.raw_materials,isAuth:t.authStore.is_auth,business:t.dataStore.business}}),(function(t){return{fetchGetRawMaterials:function(e){return t(tt(e))},fetchRawMaterialRequestPost:function(e){return t(function(t){return{type:w,payload:t}}(e))}}}))((function(t){var e=t.fetchGetRawMaterials,n=t.rawMaterials,r=t.isAuth,i=t.business,o=Object(a.useState)(""),s=Object(M.a)(o,2),c=s[0],u=s[1],l=Object(a.useState)(!1),d=Object(M.a)(l,2),b=d[0],j=d[1],m=Object(a.useState)(!1),h=Object(M.a)(m,2),p=h[0],f=h[1],O=Object(a.useState)(!1),_=Object(M.a)(O,2),g=_[0],x=_[1],w=function(){return j(!1)},v=function(){return x(!1)};return!1===r?Object(G.jsx)(G.Fragment,{children:Object(G.jsx)(ot,{errorMessage:"Session expired"})}):(Object(a.useLayoutEffect)((function(){!1!==(!!Q("businessID")&&Q("businessID"))&&e("business/".concat(i.id,"/raw_materials"))}),[]),n.length>=1?Object(G.jsxs)("div",{className:pt.a.mainContainer,children:[Object(G.jsx)(mt,{}),n.map((function(t){return console.log("item id: ".concat(t.id)),Object(G.jsxs)("div",{className:pt.a.childContainer,children:[Object(G.jsxs)("div",{className:pt.a.progressMainInfoContainer,children:[Object(G.jsx)(ut,{width:"100%",rawMaterial:t}),Object(G.jsx)("h2",{className:pt.a.title,children:t.name},t.id)]}),Object(G.jsxs)("div",{className:pt.a.amountsContainer,children:[Object(G.jsxs)("div",{className:pt.a.pAmountContainer,children:[Object(G.jsx)("p",{style:{color:"green"},children:t.total_amount}),Object(G.jsx)("p",{children:"Total"},"totalAmount".concat(t.id))]}),Object(G.jsxs)("div",{className:pt.a.pAmountContainer,children:[Object(G.jsx)("p",{style:{color:"red"},children:t.remaining_amount}),Object(G.jsx)("p",{children:"Remaining"},"remainingAmount".concat(t.id))]})]}),Object(G.jsxs)("div",{className:pt.a.buttonContainer,children:[Object(G.jsx)(it,{show:b,handleClose:w,handleShow:function(){return u(e=t),console.log("rawMaterial ".concat(e.id)),void j(!0);var e},title:"Increase",modalTitle:"Increase quantity",child:Object(G.jsx)(at,{update:!0,item:c})}),Object(G.jsx)(it,{id:pt.a.test,show:g,handleClose:v,handleShow:function(){return u(e=t),console.log("rawMaterial ".concat(e.id)),void x(!0);var e},title:"Decrease",modalTitle:"Decrease quantity",child:Object(G.jsx)(at,{update:!0,decrease:!0,item:c})})]})]},"div".concat(t.id))}))]}):Object(G.jsxs)("div",{children:[Object(G.jsx)(mt,{}),Object(G.jsx)("div",{children:Object(G.jsx)(it,{show:p,handleClose:function(){return f(!1)},handleShow:function(){return f(!0)},title:"Create a new Raw Material",modalTitle:"Add a new Raw Material",child:Object(G.jsx)(at,{})})})]}))})),Ot=function(t){return{type:d,payload:t}},_t=function(t,e,n){return"login"===t?{type:m,payload:e,login_credentials:n}:{type:l,payload:e,credentials:n}},gt=function(){return{type:b}},xt=function(){return{type:j}},wt=n(25),vt=n.n(wt),Ct=Object(o.b)(null,(function(t){return{loginRequest:function(e){return t(function(t){return function(){var e=Object(I.a)(R.a.mark((function e(n){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(gt()),B("sessions",t).then((function(e){var a=e.data;X("token",a.auth_token),n(xt()),n(_t("login",a,t))})).catch((function(t){n(Ot(t.message))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(e))}}}))((function(t){var e=t.loginRequest,n=Object(a.useState)({email:"",password:""}),r=Object(M.a)(n,2),i=r[0],o=r[1],s=Object(A.f)(),c=function(t){var e=t.target.value;o(Object(u.a)(Object(u.a)({},i),{},Object(et.a)({},t.target.name,e))),console.log(i)};return Object(G.jsx)(G.Fragment,{children:Object(G.jsxs)("form",{className:vt.a.mainContainer,onSubmit:function(){e({email:i.email,password:i.password}).then(s.push("/dashboard"))},children:[Object(G.jsx)("h2",{children:" On Stock "}),Object(G.jsxs)("div",{className:"".concat(vt.a.inputContainer," ").concat(vt.a.inputContainerLogin),children:[q("email",i.email,c,"email"),q("password",i.password,c,"password"),Object(G.jsx)("input",{type:"submit",value:"Login"})]})]})})})),St=Object(o.b)(null,(function(t){return{signupRequest:function(e){return t(function(t){return function(){var e=Object(I.a)(R.a.mark((function e(n){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(gt()),B("signup",t).then((function(e){var a=e.data;X("token",a.auth_token),n(xt()),n(_t("signup",a,t))})).catch((function(t){n(Ot(t.message))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(e))}}}))((function(t){var e=t.signupRequest,n=Object(a.useState)({name:"",email:"",password:"",confirmation:""}),r=Object(M.a)(n,2),i=r[0],o=r[1],s=Object(A.f)(),c=function(t){var e=t.target.value;o(Object(u.a)(Object(u.a)({},i),{},Object(et.a)({},t.target.name,e))),console.log(i)};return Object(G.jsx)(G.Fragment,{children:Object(G.jsxs)("form",{className:vt.a.mainContainer,onSubmit:function(t){console.log("is this being trigger"),console.log(H(i.password,i.confirmation)),H(i.password,i.confirmation)?e({name:i.name,email:i.email,password:i.password,password_confirmation:i.confirmation}).then(s.push("/dashboard")):t.preventDefault()},children:[Object(G.jsx)("h2",{children:" On Stock "}),Object(G.jsxs)("div",{className:vt.a.inputContainer,children:[q("name",i.name,c),q("email",i.email,c,"email"),q("password",i.password,c,"password"),q("confirmation",i.confirmation,c,"password"),Object(G.jsx)("input",{type:"submit",value:"Signup"})]})]})})})),yt=n(19),Et=n.n(yt),kt=Object(o.b)(null,(function(t){return{initialState:function(){return t({type:"DEFAULT"})},getBusinessID:function(){return t({type:"BUSINESS_EXIST"})}}}))((function(t){var e=t.initialState,n=t.getBusinessID,r=Object(a.useState)({option:"signup"}),i=Object(M.a)(r,2),o=i[0],s=i[1],c=function(t){s("signup"===t?{option:"signup"}:{option:"login"})};return Object(a.useLayoutEffect)((function(){e(),X("token",""),null!==Q("businessID")&&n()}),[]),Object(G.jsx)(G.Fragment,{children:Object(G.jsxs)("div",{className:Et.a.mainContainer,children:[Object(G.jsxs)("div",{className:Et.a.formContainer,children:[Object(G.jsx)("div",{className:Et.a.inputsContainer,children:"signup"===o.option?Object(G.jsx)(St,{}):Object(G.jsx)(Ct,{})}),Object(G.jsx)("div",{className:Et.a.backgroundContainer,children:Object(G.jsx)("h3",{children:"login"===o.option?"Welcome Back, we missed you \ud83e\udd70":"Create a new account to start tracking your business's raw materials \ud83d\ude80"})})]}),Object(G.jsxs)("div",{className:Et.a.authOptionsContainer,children:[Object(G.jsx)("button",{className:"login"===o.option?Et.a.clickedButton:Et.a.disabledButton,onClick:function(){return c("login")},type:"button",children:"Login"}),Object(G.jsx)("button",{className:"signup"===o.option?Et.a.clickedButton:Et.a.disabledButton,onClick:function(){return c("signup")},type:"button",children:"Sign Up"})]})]})})})),Nt=(n(86),n(51)),At=n.n(Nt),Mt=n(38),Tt=n.n(Mt),Rt=function(){return Object(G.jsx)("div",{className:Tt.a.mainContainer,children:Object(G.jsx)(At.a,{className:Tt.a.loader,type:"ThreeDots",color:"rgb(18, 211, 236)",height:300,width:300,timeout:4e4})})},It=Object(o.b)((function(t){return{authToken:t.authStore.auth_token,loading:t.dataStore.loading}}),(function(t){return{fetchPostData:function(e,n){return t(function(t,e){return function(){var n=Object(I.a)(R.a.mark((function n(a){return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a($()),B(t,e).then((function(t){console.log(t.data),X("businessID",t.data.id),a(Z(t.data))})).catch((function(t){console.log(t.message),a(Y(t))}));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}(e,n))}}}))((function(t){var e=t.fetchPostData,n=Object(a.useState)({name:""}),r=Object(M.a)(n,2),i=r[0],o=r[1],s=Object(A.f)();return console.log(L.a.defaults.headers.common),Object(G.jsxs)("div",{children:[Object(G.jsx)("span",{children:" No Business Yet :c "}),Object(G.jsxs)("form",{onSubmit:function(){e("business",{name:i.name,avatar:"default value"}),s.push("/business/raw_materials")},children:[q("name",i.name,(function(t){var e=t.target.value;o(Object(u.a)(Object(u.a)({},i),{},Object(et.a)({},t.target.name,e))),console.log(i)})),Object(G.jsx)("input",{type:"submit",value:"Create Business"})]})]})})),Dt=n(22),Lt=n.n(Dt),Ft=function(t){var e=t.loading,n=t.isAuth,r=t.business,i=t.fetchBusinessGetData,o=t.rawMaterials,s=t.fetchGetRawMaterials,c=t.error,u=t.getBusinessID;if(!0===e&&!1===n)return Rt();var l,d=Object(A.f)();l=!!Q("businessID")&&Q("businessID");var b;return!1===n&&c&&d.push("/"),!1===n&&d.push("/"),Object(a.useEffect)((function(){var t,e;Q("token")?t=Q("token").replace(/['"]+/g,""):d.goBack(),""===t&&d.goBack(),e=t,L.a.defaults.headers.common={Authorization:"Bearer ".concat(e)},""!==t&&i("business"),!1!==l&&s("business/".concat(l,"/raw_materials")),!1!==l&&u()}),[]),Object(G.jsx)(G.Fragment,{children:Object(G.jsx)("div",{className:Lt.a.businessContainer,children:null!==r?Object(G.jsxs)("div",{className:Lt.a.mainContainer,children:[Object(G.jsx)(mt,{}),Object(G.jsx)("div",{className:Lt.a.mainTitle,children:Object(G.jsxs)("h1",{children:[" ",r.name," "]})}),o&&o.length>0?function(t,e){return null!==t?Object(G.jsxs)("div",{className:Lt.a.circularInfoContainer,children:[Object(G.jsxs)("div",{className:Lt.a.lowestMaterialinfoContainer,children:[Object(G.jsx)(ut,{width:"80%",rawMaterial:e}),Object(G.jsx)("div",{className:Lt.a.pMaterialContainer,children:Object(G.jsxs)("div",{className:Lt.a.pChildContainer,children:[Object(G.jsx)("p",{style:{color:"red"},children:e.remaining_amount}),Object(G.jsx)("p",{children:"Remainig"})]})})]}),Object(G.jsxs)("div",{className:Lt.a.infoContainer,children:[Object(G.jsxs)("h2",{children:[e.name," "]}),Object(G.jsx)("p",{children:" Has the lowest amount on stock"})]})]}):null}(o,(b=o,b!==[]&&b.length>0?0===V(b).length?b[0]:V(b).reduce(J):"null")):null]}):Object(G.jsxs)("div",{children:[Object(G.jsx)(mt,{}),Object(G.jsx)(It,{})]})})})};Ft.defaultProps={rawMaterials:[],business:{}};var Bt=Object(o.b)((function(t){return{error:t.authStore.error,loading:t.authStore.loading,isAuth:t.authStore.is_auth,business:t.dataStore.business,rawMaterials:t.dataStore.raw_materials,has_Materials:t.dataStore.has_materials}}),(function(t){return{fetchBusinessGetData:function(e){return t(function(t){return function(){var e=Object(I.a)(R.a.mark((function e(n){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n($()),P(t).then((function(t){var e;console.log(t.data),null!==t.data&&X("businessID",t.data.id),n((e=t.data,{type:f,payload:e}))})).catch((function(t){console.log(t.message),n(Y(t))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(e))},fetchGetRawMaterials:function(e){return t(tt(e))},getBusinessID:function(){return t({type:"BUSINESS_EXIST"})}}}))(Ft),Ut=n(52),Pt=n.n(Ut),Gt=function(){return Object(G.jsx)("div",{className:Pt.a.rootContainer,children:Object(G.jsx)(N.a,{children:Object(G.jsxs)(A.c,{children:[Object(G.jsx)(A.a,{exact:!0,path:"/",component:kt}),Object(G.jsx)(A.a,{path:"/dashboard",component:Bt}),Object(G.jsx)(A.a,{path:"/business/raw_materials",component:ft})]})})})},Ht=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,107)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,i=e.getLCP,o=e.getTTFB;n(t),a(t),r(t),i(t),o(t)}))};i.a.render(Object(G.jsx)(o.a,{store:k,children:Object(G.jsx)(Gt,{})}),document.getElementById("root")),Ht()},18:function(t,e,n){t.exports={title:"RawMaterialsListComponent_title__1eQEm",mainContainer:"RawMaterialsListComponent_mainContainer__iPXBD",childContainer:"RawMaterialsListComponent_childContainer__1SiO6",circularBar:"RawMaterialsListComponent_circularBar__2w0OL",progressMainInfoContainer:"RawMaterialsListComponent_progressMainInfoContainer__ib2GG",buttonContainer:"RawMaterialsListComponent_buttonContainer__3RwAI",amountsContainer:"RawMaterialsListComponent_amountsContainer__2F3kv",pAmountContainer:"RawMaterialsListComponent_pAmountContainer__btgR4"}},19:function(t,e,n){t.exports={mainContainer:"Auth_mainContainer__1BCxN",formContainer:"Auth_formContainer__1Sk6Z",backgroundContainer:"Auth_backgroundContainer__f7vH_",inputsContainer:"Auth_inputsContainer__3FTje",authOptionsContainer:"Auth_authOptionsContainer__1GKOq",clickedButton:"Auth_clickedButton__JFaCp",disabledButton:"Auth_disabledButton__33jv3"}},21:function(t,e,n){t.exports={mainContainer:"Navbar_mainContainer__2pw-F",navChild:"Navbar_navChild__1Rthx",navChildren:"Navbar_navChildren__1-POx",outerNavChild:"Navbar_outerNavChild__1Ytwk",selectedTab:"Navbar_selectedTab__3wSlX"}},22:function(t,e,n){t.exports={businessContainer:"Home_businessContainer__1r_Kh",mainContainer:"Home_mainContainer__2T_Qr",circularInfoContainer:"Home_circularInfoContainer__3XjcW",lowestMaterialinfoContainer:"Home_lowestMaterialinfoContainer__3C1Nr",pMaterialContainer:"Home_pMaterialContainer__2M_P1",pChildContainer:"Home_pChildContainer__1OpNb",mainTitle:"Home_mainTitle__1ME_m",infoContainer:"Home_infoContainer__10CyO"}},25:function(t,e,n){t.exports={mainContainer:"AuthForm_mainContainer__Gtsrc",inputContainer:"AuthForm_inputContainer__Zhwv9",inputContainerLogin:"AuthForm_inputContainerLogin__2dTmZ"}},38:function(t,e,n){t.exports={mainContainer:"Loader_mainContainer__1ot_y",loader:"Loader_loader__3Isdl"}},52:function(t,e,n){t.exports={rootContainer:"Routes_rootContainer__GmUL8"}}},[[105,1,2]]]);
//# sourceMappingURL=main.4cc7ff95.chunk.js.map